<div class="samples">
  <h2>Supplied Samples</h2>
  <ng-container *ngFor="let sample of experiment.samples">
    <button
      *ngIf="sample.supplied"
      class="sample supplied"
      [class.selected]="sample === experiment.selectedSample"
      (click)="experiment.selectSample(sample)"
    >
      {{ sample.label }}
    </button>
  </ng-container>
  <ng-container *ngIf="anyDiluted">
    <h2>Diluted Samples</h2>
    <ng-container *ngFor="let sample of experiment.samples">
      <button
        *ngIf="!sample.supplied"
        class="sample"
        [class.selected]="sample === experiment.selectedSample"
        (click)="experiment.selectSample(sample)"
      >
        {{ sample.label }}
      </button>
    </ng-container>
  </ng-container>
</div>

<section class="details">
  <img [src]="'assets/images/' + experiment.selectedSample.image" />
  <span
    class="label"
    [contenteditable]="!experiment.selectedSample.supplied"
    [(ngModel)]="experiment.selectedSample.label"
  ></span>
</section>

<section class="actions">
  <button
    class="action"
    *ngFor="let action of experiment.actions"
    [class.selected]="action == experiment.selectedAction"
    (click)="experiment.selectAction(action)"
  >
    {{ action }}
  </button>
</section>

<section>
  <app-dilution
    *ngIf="experiment.selectedAction === 'Dilution'"
    [sample]="experiment.selectedSample"
    (diluted)="onDiluted($event)"
  ></app-dilution>
  <app-gc
    *ngIf="experiment.selectedAction === 'Gas Chromatography'"
    [sample]="experiment.selectedSample"
  ></app-gc>
  <app-hplc
    *ngIf="experiment.selectedAction === 'HPLC'"
    [sample]="experiment.selectedSample"
  ></app-hplc>
  <app-conductivity
    *ngIf="experiment.selectedAction === 'Conductivity'"
    [sample]="experiment.selectedSample"
  ></app-conductivity>
</section>
